"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getLegacyName = exports.normalizePath = exports.slash = exports.isWindows = void 0;
const node_os_1 = __importDefault(require("node:os"));
const node_path_1 = __importDefault(require("node:path"));
exports.isWindows = node_os_1.default.platform() === 'win32';
function slash(p) {
    return p.replace(/\\/g, '/');
}
exports.slash = slash;
function normalizePath(id) {
    return node_path_1.default.posix.normalize(exports.isWindows ? slash(id) : id);
}
exports.normalizePath = normalizePath;
function getLegacyName(name) {
    const ext = node_path_1.default.extname(name);
    const endPos = ext.length !== 0 ? -ext.length : undefined;
    name = name.slice(0, endPos) + `-legacy` + ext;
    return name;
}
exports.getLegacyName = getLegacyName;
//# sourceMappingURL=utils.js.map